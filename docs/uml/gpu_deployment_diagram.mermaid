%% 7. 배포 다이어그램 - 시스템 배포 구조
graph TB
    subgraph "Production Cluster"
        subgraph "Control Plane"
            K8sAPI[Kubernetes API Server]
            MetricsServer[Metrics Server]
        end
        
        subgraph "GPU Monitoring Namespace"
            App1[GPU Monitor Pod 1]
            App2[GPU Monitor Pod 2]
            Service[Load Balancer Service]
        end
        
        subgraph "Worker Nodes"
            Node1[GPU Node 1<br/>H100 x 8]
            Node2[GPU Node 2<br/>A100 x 4]
            Node3[GPU Node 3<br/>RTX4090 x 2]
        end
        
        subgraph "Data Layer"
            Oracle[(Oracle RAC)]
            Redis[Redis Cluster]
        end
    end
    
    subgraph "External Access"
        Users[사용자]
        Grafana[Grafana]
        Prometheus[Prometheus]
    end
    
    %% 연결
    Users --> Service
    Service --> App1
    Service --> App2
    
    App1 --> K8sAPI
    App2 --> K8sAPI
    App1 --> MetricsServer
    App2 --> MetricsServer
    
    App1 --> Oracle
    App2 --> Oracle
    App1 --> Redis
    App2 --> Redis
    
    App1 -.-> Node1
    App2 -.-> Node2
    App1 -.-> Node3
    
    Prometheus --> Service
    Grafana --> Prometheus